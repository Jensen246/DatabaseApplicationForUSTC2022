# æ•°æ®åº“å®éªŒ é“¶è¡Œä¸šåŠ¡ç®¡ç†ç³»ç»Ÿ
PB19030925 æå…¶æ­£

## æ¦‚è¿°

æ„å»ºä¸€ä¸ªB/Sç»“æ„çš„é“¶è¡Œä¸šåŠ¡ç®¡ç†ç³»ç»Ÿï¼Œå®ç°ç³»ç»Ÿçš„å‰ç«¯é¡µé¢ã€åå°æœåŠ¡å™¨å’Œæ•°æ®åº“çš„è®¾è®¡æ„å»ºã€‚

åœ¨Vlabè™šæ‹Ÿæœºä¸Šè¿è¡Œï¼Œé€šè¿‡Ngrokå†…ç½‘ç©¿é€å·²æˆåŠŸæ˜ å°„åˆ°å…¬ç½‘ï¼šhttp://bankappbyming.5gzvip.91tunnel.com/

## å®éªŒç¯å¢ƒ

* Win10ç³»ç»Ÿï¼ŒPycharm Flask pipenvå¼€å‘ç¯å¢ƒ

* ä½¿ç”¨Gitæ‰˜ç®¡ä»£ç ï¼ŒGithubä»“åº“åœ°å€ï¼š[Jensen246/DatabaseApplicationForUSTC2022 (github.com)](https://github.com/Jensen246/DatabaseApplicationForUSTC2022)

* ä½¿ç”¨`MySQLdb`è¿æ¥æ•°æ®åº“ï¼ˆpsï¼šåæ¥åœ¨å°è¯•éƒ¨ç½²åˆ°Linuxè™šæ‹Ÿæœºçš„è¿‡ç¨‹ä¸­å‘ç°`MySQLdb`çš„å…¼å®¹æ€§å®åœ¨å¤ªå·®ï¼Œå®‰è£…æ—¶å› ä¸ºåŒ…ä¾èµ–ç­‰é—®é¢˜æ¥è¿æŠ¥é”™ï¼Œæ‰€ä»¥éƒ¨ç½²è¿‡ç¨‹ä¸­æ”¹ç”¨äº†`pymysql`ï¼‰

* æŠ€æœ¯æ ˆï¼š`MySQL`+`Flask`+`Jinja2`+`html`+`css`+~~`Javascript`~~ï¼ˆçœ‹äº†ä¸å°‘ä½†æ²¡å­¦ä¼šğŸ˜­å°±æ²¡ç”¨ä¸Šï¼Œå¾ˆå¤šæƒ³åšçš„æ•ˆæœéƒ½æ²¡åšå‡ºæ¥ï¼‰ç­‰ï¼ŒPycharmç›¸å…³è®¾ç½®å¦‚ä¸‹ï¼š

  * è®¾ç½®`Settings->Langurages & Frameworks->Flask`å‹¾é€‰`Flask Integration`

  * `Run->Edit Configurations->Flask`æ‰“å¼€`FLASK_DEBUG`ï¼Œä»è€Œåœ¨ç¨‹åºè¿è¡Œæ—¶è¿›å…¥Debugæ¨¡å¼

  * ä¿®æ”¹é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹çš„`idea/BankApplication.iml`å¯ä»¥å®ç°`html`æ–‡ä»¶ä¸­çš„`jinja2`è¯­æ³•é«˜äº®ï¼š

    åœ¨componentæ ‡ç­¾çš„åŒçº§ï¼Œæ·»åŠ å¦‚ä¸‹ä»£ç ï¼š

    ```ini
    <component name="TemplatesService">
    <option name="TEMPLATE_CONFIGURATION" value="Jinja2" />
    <option name="TEMPLATE_FOLDERS">
    <list>
    <option value="$MODULE_DIR$/templates" />
    </list>
    </option>
    </component>
    ```

## é¡¹ç›®å¯åŠ¨æ–¹æ³•

* åˆå§‹åŒ–æ•°æ®åº“ï¼š

  ä¸è¦æ±‚å®ç°æ”¯è¡Œã€éƒ¨é—¨å’Œå‘˜å·¥ä¿¡æ¯è¿™ä¸‰ç±»æ•°æ®çš„ç»´æŠ¤ï¼Œä½†åœ¨ç¨‹åºå¼€å§‹è¿è¡Œä¹‹å‰éœ€è¦æ’å…¥è¿™äº›æ•°æ®ï¼Œç”¨å‘½ä»¤è¡Œè¿æ¥MySQLè¿è¡Œ`batch_init.sql`å³å¯ï¼Œç™»å½•æ—¶å°†é»˜è®¤ç¼–ç è®¾ç½®ä¸º`utf8`ä»¥å…å‡ºç°ä¹±ç ï¼š

  ```mysql
  mysql -u root -p --default-character-set=utf8
  password:******
  > source batch_init.sql
  ```

  è¯¥ç¨‹åºè°ƒç”¨äº†å¤šä¸ªsqlæ–‡ä»¶ï¼Œå…¶ä¸­ï¼š

  * `init_database.sql`ç”¨äºå»ºåº“
  * `init_bank.sql`ç”¨äºæ’å…¥æ”¯è¡Œå’Œéƒ¨é—¨
  * `init_employee.sql`ç”¨äºåˆå§‹åŒ–å‘˜å·¥ï¼ˆåŒ…æ‹¬åˆå§‹åŒ–å‘˜å·¥çš„ç™»å½•ç”¨æˆ·åå¯†ç ï¼‰
  * `init_customer.sql`ç”¨äºæ’å…¥ä¸€éƒ¨åˆ†å®¢æˆ·å’Œä»–ä»¬çš„å‚¨è“„ä¸æ”¯ç¥¨è´¦æˆ·è®°å½•
  * `init_loan.sql`ç”¨æ¥æ’å…¥ä¸€éƒ¨åˆ†å®¢æˆ·çš„è´·æ¬¾è®°å½•ä»¥åŠè´·æ¬¾çš„éƒ¨åˆ†å‘æ”¾è®°å½•

  æ•°æ®åº“åˆå§‹åŒ–çš„æ•°æ®åœ¨å‚è€ƒ[å­¦é•¿ä»£ç ](https://github.com/isaacveg/USTC_2021_DatabaseLab/tree/main/lab3)çš„åŸºç¡€ä¸Šé’ˆå¯¹è‡ªå·±çš„æ•°æ®åº“ç»“æ„åšäº†ä¸€ç‚¹ä¿®æ”¹ï¼Œå…¶ä»–éƒ¨åˆ†å‡ä¸ºåŸåˆ›
  
* è‹¥éœ€è¦å°†ä»£ç éƒ¨ç½²åˆ°å…¶ä»–ç¯å¢ƒä¸‹è¿è¡Œï¼Œåªéœ€`git clone`ï¼Œåœ¨é¡¹ç›®è·¯å¾„ä¸‹å»ºç«‹ä¸€ä¸ªæ–°çš„`pipenv`ï¼Œé€šè¿‡`pipenv install Pipfile`å³å¯å®‰è£…ä¾èµ–

## éœ€æ±‚æè¿°

### æ•°æ®éœ€æ±‚
é“¶è¡Œæœ‰å¤šä¸ªæ”¯è¡Œã€‚å„ä¸ªæ”¯è¡Œä½äºæŸä¸ªåŸå¸‚ï¼Œæ¯ä¸ªæ”¯è¡Œæœ‰å”¯ä¸€çš„åå­—ã€‚é“¶è¡Œè¦ç›‘æ§æ¯ä¸ªæ”¯è¡Œçš„èµ„äº§ã€‚é“¶è¡Œçš„å®¢æˆ·é€šè¿‡å…¶èº«ä»½è¯å·æ¥æ ‡è¯†ã€‚é“¶è¡Œå­˜å‚¨æ¯ä¸ªå®¢æˆ·çš„å§“åã€è”ç³»ç”µè¯ä»¥åŠå®¶åº­ä½å€ã€‚ä¸ºäº†å®‰å…¨èµ·è§ï¼Œé“¶è¡Œè¿˜è¦æ±‚å®¢æˆ·æä¾›ä¸€ä½è”ç³»äººçš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬è”ç³»äººå§“åã€æ‰‹æœºå·ã€Email ä»¥åŠä¸å®¢æˆ·çš„å…³ç³»ã€‚å®¢æˆ·å¯ä»¥æœ‰å¸æˆ·ï¼Œå¹¶ä¸”å¯ä»¥è´·æ¬¾ã€‚å®¢æˆ·å¯èƒ½å’ŒæŸä¸ªé“¶è¡Œå‘˜å·¥å‘ç”Ÿè”ç³»ï¼Œè¯¥å‘˜å·¥æ˜¯æ­¤å®¢æˆ·çš„è´·æ¬¾è´Ÿè´£äººæˆ–é“¶è¡Œå¸æˆ·è´Ÿè´£äººã€‚é“¶è¡Œå‘˜å·¥ä¹Ÿé€šè¿‡èº«ä»½è¯å·æ¥æ ‡è¯†ã€‚å‘˜å·¥åˆ†ä¸ºéƒ¨é—¨ç»ç†å’Œæ™®é€šå‘˜å·¥ï¼Œæ¯ä¸ªéƒ¨é—¨ç»ç†éƒ½è´Ÿè´£é¢†å¯¼å…¶æ‰€åœ¨éƒ¨é—¨çš„å‘˜å·¥ï¼Œå¹¶ä¸”æ¯ä¸ªå‘˜å·¥åªå…è®¸åœ¨ä¸€ä¸ªéƒ¨é—¨å†…å·¥ä½œã€‚æ¯ä¸ªæ”¯è¡Œçš„ç®¡ç†æœºæ„å­˜å‚¨æ¯ä¸ªå‘˜å·¥çš„å§“åã€ç”µè¯å·ç ã€å®¶åº­åœ°å€åŠéƒ¨é—¨ç»ç†çš„èº«ä»½è¯å·ã€‚é“¶è¡Œè¿˜éœ€çŸ¥é“æ¯ä¸ªå‘˜å·¥å¼€å§‹å·¥ä½œçš„æ—¥æœŸï¼Œç”±æ­¤æ—¥æœŸå¯ä»¥æ¨çŸ¥å‘˜å·¥çš„é›‡ä½£æœŸã€‚é“¶è¡Œæä¾›ä¸¤ç±»å¸æˆ·â€”â€”å‚¨è“„å¸æˆ·å’Œæ”¯ç¥¨å¸æˆ·ã€‚å¸æˆ·å¯ä»¥ç”±å¤šä¸ªå®¢æˆ·æ‰€å…±æœ‰ï¼Œä¸€ä¸ªå®¢æˆ·ä¹Ÿå¯å¼€è®¾å¤šä¸ªè´¦æˆ·ï¼Œä½†åœ¨ä¸€ä¸ªæ”¯è¡Œå†…æœ€å¤šåªèƒ½å¼€è®¾ä¸€ä¸ªå‚¨è“„è´¦æˆ·å’Œä¸€ä¸ªæ”¯ç¥¨è´¦æˆ·ã€‚æ¯ä¸ªå¸æˆ·è¢«èµ‹ä»¥å”¯ä¸€çš„å¸æˆ·å·ã€‚é“¶è¡Œè®°å½•æ¯ä¸ªå¸æˆ·çš„ä½™é¢ã€å¼€æˆ·æ—¥æœŸã€å¼€æˆ·çš„æ”¯è¡Œåä»¥åŠæ¯ä¸ªå¸æˆ·æ‰€æœ‰è€…è®¿é—®è¯¥å¸æˆ·çš„æœ€è¿‘æ—¥æœŸã€‚å¦å¤–ï¼Œæ¯ä¸ªå‚¨è“„å¸æˆ·æœ‰åˆ©ç‡å’Œè´§å¸ç±»å‹ï¼Œä¸”æ¯ä¸ªæ”¯ç¥¨å¸æˆ·æœ‰é€æ”¯é¢ã€‚æ¯ç¬”è´·æ¬¾ç”±æŸä¸ªåˆ†æ”¯æœºæ„å‘æ”¾ï¼Œèƒ½è¢«ä¸€ä¸ªæˆ–å¤šä¸ªå®¢æˆ·æ‰€å…±æœ‰ã€‚æ¯ç¬”è´·æ¬¾ç”¨å”¯ä¸€çš„è´·æ¬¾å·æ ‡è¯†ã€‚é“¶è¡Œéœ€è¦çŸ¥é“æ¯ç¬”è´·æ¬¾æ‰€è´·é‡‘é¢ä»¥åŠé€æ¬¡æ”¯ä»˜çš„æƒ…å†µï¼ˆé“¶è¡Œå°†è´·æ¬¾åˆ†å‡ æ¬¡ä»˜ç»™å®¢æˆ·ï¼‰ã€‚è™½ç„¶è´·æ¬¾å·ä¸èƒ½å”¯ä¸€æ ‡è¯†é“¶è¡Œæ‰€æœ‰ä¸ºè´·æ¬¾æ‰€ä»˜çš„æ¬¾é¡¹ï¼Œä½†å¯ä»¥å”¯ä¸€æ ‡è¯†ä¸ºæŸè´·æ¬¾æ‰€ä»˜çš„æ¬¾é¡¹ã€‚å¯¹æ¯æ¬¡çš„ä»˜æ¬¾éœ€è¦è®°å½•æ—¥æœŸå’Œé‡‘é¢ã€‚

###  ä¸»è¦åŠŸèƒ½éœ€æ±‚  

* å®¢æˆ·ç®¡ç†ï¼šæä¾›å®¢æˆ·æ‰€æœ‰ä¿¡æ¯çš„å¢ã€åˆ ã€æ”¹ã€æŸ¥åŠŸèƒ½ï¼›å¦‚æœå®¢æˆ·å­˜åœ¨ç€å…³è”è´¦æˆ·æˆ–è€…è´·æ¬¾è®°å½•ï¼Œåˆ™ä¸å…è®¸åˆ é™¤ï¼›
* è´¦æˆ·ç®¡ç†ï¼šæä¾›è´¦æˆ·å¼€æˆ·ã€é”€æˆ·ã€ä¿®æ”¹ã€æŸ¥è¯¢åŠŸèƒ½ï¼ŒåŒ…æ‹¬å‚¨è“„è´¦æˆ·å’Œæ”¯ç¥¨è´¦æˆ·ï¼›è´¦æˆ·å·ä¸å…è®¸ä¿®æ”¹ï¼›
* è´·æ¬¾ç®¡ç†ï¼šæä¾›è´·æ¬¾ä¿¡æ¯çš„å¢ã€åˆ ã€æŸ¥åŠŸèƒ½ï¼Œæä¾›è´·æ¬¾å‘æ”¾åŠŸèƒ½ï¼›è´·æ¬¾ä¿¡æ¯ä¸€æ—¦æ·»åŠ æˆåŠŸåä¸å…è®¸ä¿®æ”¹ï¼›è¦æ±‚èƒ½æŸ¥è¯¢æ¯ç¬”è´·æ¬¾çš„å½“å‰çŠ¶æ€ï¼ˆæœªå¼€å§‹å‘æ”¾ã€å‘æ”¾ä¸­ã€å·²å…¨éƒ¨å‘æ”¾ï¼‰ï¼›å¤„äºå‘æ”¾ä¸­çŠ¶æ€çš„è´·æ¬¾è®°å½•ä¸å…è®¸åˆ é™¤ï¼›
* ä¸šåŠ¡ç»Ÿè®¡ï¼šæŒ‰ä¸šåŠ¡åˆ†ç±»ï¼ˆå‚¨è“„ã€è´·æ¬¾ï¼‰å’Œæ—¶é—´ï¼ˆæœˆã€å­£ã€å¹´ï¼‰ç»Ÿè®¡å„ä¸ªæ”¯è¡Œçš„ä¸šåŠ¡æ€»é‡‘é¢å’Œç”¨æˆ·æ•°ï¼Œç»Ÿè®¡çš„ç»“æœä»¥è¡¨æ ¼å½¢å¼å±•ç¤º  ã€‚  

## å…·ä½“å®ç°æ—¶çš„åŠŸèƒ½è®¾è®¡

* ä¸»é¡µä¸ºç™»å½•/æ³¨å†Œé¡µé¢ï¼Œå¯ä»¥æ³¨å†Œæ–°**å®¢æˆ·**ç”¨æˆ·ï¼ˆ**ä¸å«å‘˜å·¥**ç”¨æˆ·ï¼Œå‘˜å·¥ç”¨æˆ·ä¿¡æ¯åœ¨åˆå§‹åŒ–sqlæ–‡ä»¶ä¸­æ’å…¥æ•°æ®åº“ï¼Œä¸”åªèƒ½ä¿®æ”¹å¯†ç ï¼Œä¸å¯ä¿®æ”¹å…¶ä»–å±æ€§ï¼‰ï¼Œç™»å½•ç”¨æˆ·åˆ†ä¸ºä¸¤ç±»ï¼šå®¢æˆ·å’Œå‘˜å·¥ï¼Œä»–ä»¬çš„æƒé™åŒºåˆ†å¦‚ä¸‹ï¼š
  * å®¢æˆ·ç”¨æˆ·ï¼š
    * å®¢æˆ·ç®¡ç†ï¼šå¢ã€åˆ ã€æ”¹ã€æŸ¥è‡ªå·±çš„ä¿¡æ¯ï¼ˆå¦‚æœå®¢æˆ·å­˜åœ¨å…³è”è´¦æˆ·æˆ–è´·æ¬¾è®°å½•åˆ™ä¸å…è®¸åˆ é™¤ï¼‰
    * è´¦æˆ·ç®¡ç†ï¼šè´¦æˆ·å¼€æˆ·ã€é”€æˆ·ã€ä¿®æ”¹ï¼ŒåŒ…æ‹¬å‚¨è“„è´¦æˆ·å’Œæ”¯ç¥¨è´¦æˆ·ï¼Œè´¦æˆ·å·ä¸å¯ä»¥ä¿®æ”¹ï¼›æ–°å¢è´¦æˆ·æ—¶éœ€è¦ä»å¯¹åº”æ”¯è¡Œçš„å¯¹åº”éƒ¨é—¨é€‰æ‹©ä¸€ä¸ªå‘˜å·¥åšè‡ªå·±çš„è´¦æˆ·è´Ÿè´£äºº
    * è´·æ¬¾ç®¡ç†ï¼šè´·æ¬¾ä¿¡æ¯çš„å¢ã€åˆ ã€æŸ¥åŠŸèƒ½
      * â€œå¢â€æŒ‡çš„æ˜¯å‘èµ·è´·æ¬¾ï¼Œå®¢æˆ·å‘èµ·è´·æ¬¾åè´·æ¬¾çŠ¶æ€ä¸ºâ€œæœªå‘æ”¾â€ï¼Œè‹¥ç”¨æˆ·åœ¨ä¸€å®¶æ”¯è¡Œæ–°å¢è´·æ¬¾æ—¶è¿˜æ²¡æœ‰è¿™å®¶æ”¯è¡Œå¯¹åº”çš„è´Ÿè´£å‘˜å·¥ï¼Œéœ€è¦é€‰å®šä¸€åè´Ÿè´£å‘˜å·¥ï¼›
      * â€œåˆ â€æŒ‡çš„æ˜¯åˆ é™¤è´·æ¬¾è®°å½•ï¼Œåˆ é™¤è´·æ¬¾éœ€è¦å…¶çŠ¶æ€ä¸ºâ€å‘æ”¾å®Œæˆâ€œï¼›
      * â€œæŸ¥â€æŒ‡çš„æ˜¯æ˜¾ç¤ºè¯¥ç”¨æˆ·æ¯ç¬”è´·æ¬¾çš„ä¿¡æ¯ï¼ˆçŠ¶æ€åˆ†ä¸ºï¼šæœªå¼€å§‹å‘æ”¾ã€å‘æ”¾ä¸­ã€å·²å…¨éƒ¨å‘æ”¾ï¼‰ï¼›
      * è´·æ¬¾çŠ¶æ€åˆ†ä¸ºï¼šæœªå¼€å§‹å‘æ”¾ã€å‘æ”¾ä¸­ã€å·²å…¨éƒ¨å‘æ”¾ï¼Œå®¢æˆ·å‘èµ·è´·æ¬¾åè´·æ¬¾çŠ¶æ€ä¸ºâ€œæœªå‘æ”¾â€ï¼Œç”±å‘˜å·¥å‘æ”¾éƒ¨åˆ†è´·æ¬¾åè´·æ¬¾çŠ¶æ€ä¸ºâ€œå‘æ”¾ä¸­â€ï¼Œé‡‘é¢å…¨éƒ¨å‘æ”¾å®ŒåçŠ¶æ€æ”¹ä¸ºâ€œå·²å…¨éƒ¨å‘æ”¾â€ï¼›
    * ä¸šåŠ¡ç»Ÿè®¡ï¼šç”¨æˆ·ä¸å¯ä»¥ä½¿ç”¨è¯¥åŠŸèƒ½
    * æ–°å¢åŠŸèƒ½ï¼šå…³ç³»å‘˜å·¥ç®¡ç†ï¼šå¯ä»¥æŸ¥çœ‹å’Œæ›´æ”¹æ›´æ”¹è‡ªå·±åœ¨å„å®¶æ”¯è¡Œå„ç±»ä¸šåŠ¡çš„è´Ÿè´£å‘˜å·¥
  * å‘˜å·¥ç”¨æˆ·ï¼š
    * å®¢æˆ·ç®¡ç†ï¼šç”±å®¢æˆ·è‡ªå·±æ“ä½œï¼Œå‘˜å·¥å¯ä»¥æŸ¥çœ‹æ‰€æœ‰å®¢æˆ·çš„ä¸ªäººä¿¡æ¯ï¼Œä»¥åŠå¯ä»¥æ ¹æ®å§“åã€åœ°å€æˆ–è”ç³»äººå§“åä¸­åŒ…å«çš„å­—æ®µæ¨¡ç³Šæœç´¢å®¢æˆ·
    * è´¦æˆ·ç®¡ç†ï¼šå¼€æˆ·ã€é”€æˆ·ã€å­˜æ¬¾ã€å–æ¬¾åŠŸèƒ½ç”±å®¢æˆ·è‡ªå·±æ“ä½œï¼Œå‘˜å·¥æœ‰ï¼š
      * æŸ¥çœ‹æƒé™ï¼šå¯ä»¥ä»å®¢æˆ·ç®¡ç†ç•Œé¢æŸ¥çœ‹æ¯ä¸ªå®¢æˆ·çš„è´¦æˆ·ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å§“åæˆ–è´¦æˆ·å·æœç´¢å®¢æˆ·
      * ä»¥åŠéƒ¨åˆ†å®¢æˆ·æ‰€æ²¡æœ‰çš„ä¿®æ”¹æƒé™ï¼šä¿®æ”¹å‚¨è“„è´¦æˆ·çš„åˆ©ç‡ï¼ˆé™å®šèŒƒå›´ä¸º0~1ï¼‰ï¼Œä»¥åŠä¿®æ”¹æ”¯ç¥¨è´¦æˆ·çš„é€æ”¯é¢
    * è´·æ¬¾ç®¡ç†ï¼šç”³è¯·è´·æ¬¾ã€åˆ é™¤è´·æ¬¾ç”±ç”¨æˆ·è‡ªå·±å®ç°ï¼Œå‘˜å·¥è´Ÿè´£è¿›è¡Œå‘æ”¾è´·æ¬¾ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å§“åæˆ–è´·æ¬¾å·æœç´¢å®¢æˆ·
    * ä¸šåŠ¡ç»Ÿè®¡ï¼šæŒ‰ä¸šåŠ¡åˆ†ç±»ï¼ˆå‚¨è“„ã€æ”¯ç¥¨ã€è´·æ¬¾ï¼‰å’Œæ—¶é—´ï¼ˆæœˆã€å­£ã€å¹´ï¼‰ç»Ÿè®¡å„ä¸ªæ”¯è¡Œçš„ä¸šåŠ¡æ€»é‡‘é¢å’Œç”¨æˆ·æ•°ï¼Œ ç»Ÿè®¡çš„ç»“æœä»¥è¡¨æ ¼å½¢å¼å±•ç¤º  
* ä¸€äº›é—®é¢˜ï¼š
  * æ²¡æœ‰å®ç°å¤šä¸ªå®¢æˆ·å…±ç”¨ä¸€ä¸ªè´¦æˆ·çš„åŠŸèƒ½ï¼ˆåªæœ‰åˆå§‹æ’å…¥æ•°æ®åº“çš„æ•°æ®å¯ä»¥åšåˆ°ï¼‰
  * å®¢æˆ·ç«¯å®ç°çš„ç»‘å®šä¸æ›´æ¢è´Ÿè´£å‘˜å·¥åŠŸèƒ½ä»…ä»…æ˜¯ä¸ºäº†å±•ç°`Employee_Customer`è¡¨ï¼Œå‘˜å·¥ç«¯æ²¡æœ‰å®ç°æŸ¥çœ‹æˆ–ä¿®æ”¹è´Ÿè´£å®¢æˆ·çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªåŠŸèƒ½å…¶å®æ˜¯æ²¡æœ‰æ„ä¹‰çš„
  * ä»å®é™…åº”ç”¨è§’åº¦æ¥è¯´ï¼Œå‘˜å·¥åº”è¯¥åªå¯ä»¥æŸ¥çœ‹å’Œæ›´æ”¹è‡ªå·±å¯¹åº”æ”¯è¡Œçš„å®¢æˆ·ã€è´¦æˆ·æ•°æ®ï¼Œä½†ä¸ºäº†æµ‹è¯•å’Œåˆå§‹åŒ–çš„æ–¹ä¾¿ï¼Œå‘˜å·¥å¯ä»¥æŸ¥çœ‹å’Œæ›´æ”¹æ‰€æœ‰å®¢æˆ·çš„ä¸ªäººä¿¡æ¯
  * æ²¡æœ‰å®ç°â€œæœ€è¿‘æŸ¥çœ‹æ—¶é—´â€çš„æŸ¥çœ‹å’Œç»´æŠ¤ï¼Œä¸ªäººè®¤ä¸ºè¿™é¡¹å±æ€§æ„ä¹‰ä¸å¤§
  * ä¸šåŠ¡ç»Ÿè®¡å¯¹äºå‚¨è“„è´¦æˆ·å’Œæ”¯ç¥¨è´¦æˆ·æ¥è¯´æ²¡æœ‰è€ƒè™‘åˆ°å¼€æˆ·æ—¥æœŸä»¥åå‚¨è“„å’Œå–æ¬¾çš„æƒ…å†µï¼Œå¦‚æœè¦è€ƒè™‘è¿™äº›å› ç´ å¯èƒ½éœ€è¦ç»´æŠ¤é¢å¤–çš„è¡¨


## ç³»ç»Ÿå†…éƒ¨è®¾è®¡

### åç«¯-æ•°æ®åº“è®¾è®¡

* æ ¹æ®å®éªŒäºŒçš„ç»“æœè®¾è®¡ï¼Œæ ¹æ®æ€»ä½“åŠŸèƒ½è®¾è®¡æ–°å¢/ä¿®æ”¹å¦‚ä¸‹å±æ€§ï¼š
  * å¯¹äºå‘˜å·¥å’Œå®¢æˆ·ï¼Œä¸ºç™»å½•åŠŸèƒ½æ–°å¢"ç”¨æˆ·å"å’Œ"å¯†ç "ï¼Œä¸”ä¸å…è®¸ç™»å½•ç³»ç»Ÿå‡ºç°é‡å¤ç”¨æˆ·åï¼Œurlçš„æ„æˆä¹Ÿå¤§å¤šæ•°ä½¿ç”¨äº†ç”¨æˆ·åï¼Œå¯ä»¥ç†è§£ä¸ºå®é™…ä½¿ç”¨æ—¶ç”¨ä½œä¸»é”®çš„æ˜¯â€œç”¨æˆ·åâ€
  * å‚¨è“„è´¦æˆ·ä¸­çš„"è´§å¸ç±»å‹"ç”¨æ•°å­—0ï¼Œ1ï¼Œ2ï¼Œ3åˆ†åˆ«è¡¨ç¤ºäººæ°‘å¸ã€ç¾å…ƒã€æ¬§å…ƒå’Œæ—¥å…ƒ
  * å¯¹äºè´·æ¬¾è¡¨ï¼Œæ–°å¢"è´·æ¬¾å‘æ”¾çŠ¶æ€"ï¼Œç”¨æ•°å­—0ï¼Œ1ï¼Œ2è¡¨ç¤ºä¸‰ä¸ªçŠ¶æ€
  * å¯¹äºå‘˜å·¥è¡¨ï¼Œæ–°å¢"Is_Manager"å±æ€§ï¼Œæ•°å­—1ï¼Œ0åˆ†åˆ«è¡¨ç¤ºæ˜¯/ä¸æ˜¯ç»ç†
  * å¯¹äºéƒ¨é—¨è¡¨ï¼Œå°†ä¸»é”®ç”±"éƒ¨é—¨ID"æ”¹ä¸ºâ€œï¼ˆæ”¯è¡Œï¼Œéƒ¨é—¨IDï¼‰â€

#### æ”¯è¡Œè¡¨

å­˜å‚¨æ‰€æœ‰æ”¯è¡Œè´¦æˆ·ä¿¡æ¯ã€‚  

| å±æ€§          | è¯´æ˜                |
| ------------- | ------------------- |
| Bank_Name     | ä¸»é”®ï¼Œæ”¯è¡Œçš„åç§°    |
| Bank_City     | æ”¯è¡Œæ‰€åœ¨åŸå¸‚        |
| Bank_Property | æ”¯è¡Œèµ„äº§ï¼Œé»˜è®¤å€¼ä¸º0 |

```sql
/*==============================================================*/
/* Table: SubBank                                               */
/*==============================================================*/
create table SubBank
(
   Bank_Name            char(32) not null  comment 'æ”¯è¡Œåç§°',	
   Bank_City            char(32)  comment 'æ”¯è¡Œæ‰€åœ¨åŸå¸‚',
   Bank_Property        float  DEFAULT 0.0 comment 'æ”¯è¡Œèµ„äº§',
   primary key (Bank_Name)
);
```

#### å‘˜å·¥è¡¨

å­˜å‚¨æ”¯è¡Œå‘˜å·¥çš„ä¿¡æ¯  

| å±æ€§                 | è¯´æ˜                               |
| -------------------- | ---------------------------------- |
| Employee_ID          | ä¸»é”®ï¼Œå‘˜å·¥èº«ä»½è¯å·ç                |
| Department_ID        | å‘˜å·¥æ‰€åœ¨éƒ¨é—¨ID                     |
| Employee_Name        | å‘˜å·¥å§“å                           |
| Employee_PhoneNumber | å‘˜å·¥ç”µè¯                           |
| Employee_Address     | å‘˜å·¥å®¶åº­ä½å€                       |
| Employee_Enter_Date  | å‘˜å·¥å…¥èŒæ—¥æœŸ                       |
| Employee_Username    | å‘˜å·¥è´¦æˆ·ç”¨æˆ·å                     |
| Employee_Password    | å‘˜å·¥è´¦æˆ·å¯†ç                        |
| Is_Manager           | ç»ç†æ ‡è¯†ï¼Œ0è¡¨ç¤ºæ™®é€šå‘˜å·¥ï¼Œ1è¡¨ç¤ºç»ç† |

```sql
/*==============================================================*/
/* Table: Employee                                              */
/*==============================================================*/
create table Employee
(
   Employee_ID          char(16) not null  comment 'å‘˜å·¥èº«ä»½è¯å·ç ',
   Department_ID        char(32) not null  comment 'å‘˜å·¥æ‰€åœ¨éƒ¨é—¨ID',
   Employee_Name        char(32)  comment 'å‘˜å·¥å§“å',
   Employee_PhoneNumber decimal(12)  comment 'å‘˜å·¥ç”µè¯',
   Employee_Address     char(64)  comment 'å‘˜å·¥å®¶åº­ä½å€',
   Employee_Enter_Date  date  comment 'å‘˜å·¥å…¥èŒæ—¥æœŸ',
   Employee_Username	char(16) not null comment 'å‘˜å·¥è´¦æˆ·ç”¨æˆ·å',
   Employee_Password	char(16) not null comment 'å‘˜å·¥è´¦æˆ·å¯†ç ',
   Is_Manager			tinyint not null comment 'ç»ç†æ ‡è¯†',
   primary key (Employee_ID)
);
```

#### å®¢æˆ·è¡¨

å‚¨å­˜æ‰€æœ‰å®¢æˆ·ä¿¡æ¯

| å±æ€§                      | è¯´æ˜                 |
| ------------------------- | -------------------- |
| User_ID                   | ä¸»é”®ï¼Œå®¢æˆ·èº«ä»½è¯å·ç  |
| User_Name                 | å®¢æˆ·å§“å             |
| User_PhoneNumber          | å®¢æˆ·ç”µè¯             |
| User_Address              | å®¢æˆ·å®¶åº­åœ°å€         |
| User_Contacts_Name        | è”ç³»äººå§“å           |
| User_Contacts_PhoneNumber | è”ç³»äººç”µè¯           |
| User_Contacts_Email       | è”ç³»äººç”µå­é‚®ä»¶       |
| User_Contacts_Relation    | å®¢æˆ·ä¸è”ç³»äººå…³ç³»     |
| User_Username             | å®¢æˆ·è´¦æˆ·ç”¨æˆ·å       |
| User_Password             | å®¢æˆ·è´¦æˆ·å¯†ç          |

```sql
/*==============================================================*/
/* Table: Customer                                              */
/*==============================================================*/
create table Customer
(
   User_ID              char(16) not null  comment 'å®¢æˆ·èº«ä»½è¯å·ç ',
   User_Name            char(32)  comment 'å®¢æˆ·å§“å',
   User_PhoneNumber     char(16)  comment 'å®¢æˆ·ç”µè¯',
   User_Address         char(64)  comment 'å®¢æˆ·å®¶åº­åœ°å€',
   User_Contacts_Name   char(32)  comment 'è”ç³»äººå§“å',
   User_Contacts_PhoneNumber char(16)  comment 'è”ç³»äººç”µè¯',
   User_Contacts_Email  char(32)  comment 'è”ç³»äººç”µå­é‚®ä»¶',
   User_Contacts_Relation char(32)  comment 'å®¢æˆ·ä¸è”ç³»äººå…³ç³»',
   User_Username	char(16) not null comment 'å‘˜å·¥è´¦æˆ·ç”¨æˆ·å',
   User_Password	char(16) not null comment 'å‘˜å·¥è´¦æˆ·å¯†ç ',
   primary key (User_ID)
);
```

#### éƒ¨é—¨è¡¨

å­˜å‚¨éƒ¨é—¨ä¿¡æ¯ï¼Œè¥é”€éƒ¨è´Ÿè´£å‚¨è“„å’Œæ”¯ç¥¨è´¦æˆ·ï¼Œå®¢æœéƒ¨è´Ÿè´£è´·æ¬¾

| å±æ€§                  | è¯´æ˜         |
| --------------------- | ------------ |
| Department_ID         | éƒ¨é—¨IDï¼Œä¸»é”® |
| Bank_Name             | æ”¯è¡Œåç§°     |
| Department_Name       | éƒ¨é—¨åç§°     |
| Department_Type       | æ”¯è¡Œç±»å‹     |
| Department_Manager_ID | æ”¯è¡Œç»ç†ID   |

```sql
/*==============================================================*/
/* Table: Department                                            */
/*==============================================================*/
create table Department
(
   Department_ID        char(32) not null  comment 'éƒ¨é—¨ID',
   Bank_Name            char(32) not null  comment 'æ”¯è¡Œåç§°',
   Department_Name      char(32)  comment 'éƒ¨é—¨åç§°',
   Department_Type      char(32)  comment 'æ”¯è¡Œç±»å‹',
   Department_Manager_ID char(16) not null  comment 'æ”¯è¡Œç»ç†ID',
   primary key (Department_ID)
);
```

#### ~~è´¦æˆ·è¡¨~~

å³æ”¯ç¥¨è´¦æˆ·ä¸å‚¨è“„è´¦æˆ·çš„çˆ¶ç±»ï¼Œä½†åœ¨å®é™…ä¸šåŠ¡ä¸­ä¸éœ€è¦ï¼Œæ•…åˆ é™¤

| å±æ€§            | è¯´æ˜     |
| --------------- | -------- |
| Account_ID      | è´¦æˆ·å·   |
| Account_balance | è´¦æˆ·ä½™é¢ |
| Reg_Date        | å¼€æˆ·æ—¥æœŸ |
| Reg_Bank        | å¼€æˆ·æ”¯è¡Œ |

```sql
/*==============================================================*/
/* Table: Account                                               */
/*==============================================================*/
create table Account
(
   Account_ID           char(32) not null  comment 'è´¦æˆ·å·',
   Account_balance      float  comment 'è´¦æˆ·ä½™é¢',
   Reg_Date             date  comment 'å¼€æˆ·æ—¥æœŸ',
   Reg_Bank             char(32)  comment 'å¼€æˆ·æ”¯è¡Œ',
   primary key (Account_ID)
);
```

#### æ”¯ç¥¨è´¦æˆ·è¡¨

å­˜å‚¨æ”¯ç¥¨è´¦æˆ·ä¿¡æ¯

* è´¦æˆ·å·ä»¥`ck + æ•°å­—`è¡¨ç¤ºï¼Œå»ºç«‹æ–°æ”¯ç¥¨è´¦æˆ·æ—¶æ•°å­—å–æ•°æ®åº“ä¸­çš„æœ€å¤§å€¼+1
* é€æ”¯é¢åº¦è¡¨ç¤ºè¯¥è´¦æˆ·èƒ½å¤Ÿè¶…å‡ºä½™é¢å–æ¬¾çš„æœ€å¤§é¢åº¦ï¼Œä¹Ÿå°±æ˜¯è¯´æ”¯ç¥¨è´¦æˆ·çš„ä½™é¢å¯ä»¥ä¸ºä¸€ä¸ªç»å¯¹å€¼ä»¥é€æ”¯ä½™é¢ä¸ºä¸Šé™çš„è´Ÿå€¼

| å±æ€§            | è¯´æ˜             |
| --------------- | ---------------- |
| Account_ID      | ä¸»é”®ï¼Œæ”¯ç¥¨è´¦æˆ·å· |
| Account_balance | è´¦æˆ·ä½™é¢         |
| Reg_Date        | å¼€æˆ·æ—¥æœŸ         |
| Reg_Bank        | å¼€æˆ·æ”¯è¡Œ         |
| Overdraft       | é€æ”¯é¢åº¦         |

```sql
/*==============================================================*/
/* Table: CheckAccount                                          */
/*==============================================================*/
create table CheckAccount
(
   Account_ID           char(32) not null  comment 'æ”¯ç¥¨è´¦æˆ·å·',
   Account_balance      float  comment 'è´¦æˆ·ä½™é¢',
   Reg_Date             date  comment 'å¼€æˆ·æ—¥æœŸ',
   Reg_Bank             char(32)  comment 'å¼€æˆ·æ”¯è¡Œ',
   Overdraft            float  comment 'é€æ”¯é¢åº¦',
   primary key (Account_ID)
);
```

#### å‚¨è“„è´¦æˆ·è¡¨

å‚¨å­˜å‚¨è“„è´¦æˆ·ä¿¡æ¯ ï¼Œè´¦æˆ·å·ä»¥`dp + æ•°å­—`è¡¨ç¤ºï¼Œå»ºç«‹æ–°å‚¨è“„è´¦æˆ·æ—¶æ•°å­—å–æ•°æ®åº“ä¸­çš„æœ€å¤§å€¼+1

| å±æ€§            | è¯´æ˜                                     |
| --------------- | ---------------------------------------- |
| Account_ID      | å‚¨è“„è´¦æˆ·å·                               |
| Account_balance | è´¦æˆ·ä½™é¢                                 |
| Reg_Date        | å¼€æˆ·æ—¥æœŸ                                 |
| Reg_Bank        | å¼€æˆ·è¡Œ                                   |
| Interest_Rate   | åˆ©ç‡                                     |
| Currency_type   | è´§å¸ç±»å‹ï¼š 0:äººæ°‘å¸ 1:ç¾å…ƒ 2:æ¬§å…ƒ 3:æ—¥å…ƒ |

```sql
/*==============================================================*/
/* Table: DepositAccount                                        */
/*==============================================================*/
create table DepositAccount
(
   Account_ID           char(32) not null  comment 'å‚¨è“„è´¦æˆ·å·',
   Account_balance      float  comment 'è´¦æˆ·ä½™é¢',
   Reg_Date             date  comment 'å¼€æˆ·æ—¥æœŸ',
   Reg_Bank             char(32)  comment 'å¼€æˆ·è¡Œ',
   Interest_Rate        float  comment 'åˆ©ç‡',
   Currency_type        int(1)  comment 'è´§å¸ç±»å‹',
   primary key (Account_ID)
);
```

#### è´·æ¬¾è¡¨ 

å­˜å‚¨æ‰€æœ‰çš„è´·æ¬¾ä¿¡æ¯ï¼Œè´·æ¬¾å·ä»¥`ln + æ•°å­—`çš„å½¢å¼è¡¨ç¤ºï¼Œå»ºç«‹æ–°è´·æ¬¾æ—¶æ•°å­—å–æ•°æ®åº“ä¸­çš„æœ€å¤§å€¼+1

| å±æ€§        | è¯´æ˜                                                         |
| ----------- | ------------------------------------------------------------ |
| Loan_ID     | ä¸»é”®ï¼Œè´·æ¬¾å·                                                 |
| Bank_Name   | å‘æ”¾æ”¯è¡Œæ”¯è¡Œå                                               |
| Loan_Money  | è´·æ¬¾é¢åº¦                                                     |
| Loan_Status | å‘æ”¾çŠ¶æ€ï¼š 0:"æœªå¼€å§‹å‘æ”¾" 1:"å‘æ”¾ä¸­" 2:"å·²å…¨éƒ¨å‘æ”¾"ï¼Œé»˜è®¤ä¸º0 |

```sql
/*==============================================================*/
/* Table: Loan                                                  */
/*==============================================================*/
create table Loan
(
   Loan_ID              char(16) not null  comment 'è´·æ¬¾å·',
   Bank_Name            char(32) not null  comment 'å‘æ”¾æ”¯è¡Œå',
   Loan_Money           float  comment 'è´·æ¬¾é¢åº¦',
   Loan_Status			int(1)	DEFAULT 0 comment 'å‘æ”¾çŠ¶æ€',
   primary key (Loan_ID)
);
```

#### æ”¯ä»˜æƒ…å†µè¡¨

å­˜å‚¨è´·æ¬¾çš„æ”¯ä»˜æƒ…å†µï¼Œè€ƒè™‘åˆ°ä¸€ç¬”è´·æ¬¾å¯èƒ½åˆ†å¤šæ¬¡æ”¯ä»˜ï¼Œå¢åŠ æ”¯ä»˜æ—¥æœŸ`Pay_Date`ä¸è´·æ¬¾å·`Loan_ID`å…±åŒä½œä¸ºä¸»é”®

| å±æ€§      | è¯´æ˜                   |
| --------- | ---------------------- |
| Loan_ID   | ä¸»é”®ï¼Œæ”¯ä»˜å¯¹åº”çš„è´·æ¬¾å· |
| Pay_Date  | ä¸»é”®ï¼Œæ”¯ä»˜æ—¥æœŸ         |
| Pay_Money | æ”¯ä»˜é‡‘é¢               |

```sql
/*==============================================================*/
/* Table: Payment                                               */
/*==============================================================*/
create table Payment
(
   Loan_ID              char(16) not null  comment 'æ”¯ä»˜å¯¹åº”çš„è´·æ¬¾å·',
   Pay_Date             date  comment 'æ”¯ä»˜æ—¥æœŸ',
   Pay_Money            float  comment 'æ”¯ä»˜é‡‘é¢',
   primary key (Loan_ID,Pay_Date)
);
```

#### å®¢æˆ·-å‚¨è“„è´¦æˆ·å”¯ä¸€è¡¨

ç”¨å®¢æˆ·-å‚¨è“„è´¦æˆ·çš„ç»„åˆå®ä½“å’Œè´¦æˆ·åšä¸€ï¼ˆè´¦æˆ·ï¼‰å¯¹å¤šï¼ˆç»„åˆï¼‰çš„å…³ç³»æ˜ å°„ï¼Œä»¥å®ç°â€ä¸€ä¸ªç”¨æˆ·åœ¨ä¸€ä¸ªæ”¯è¡Œå†…æœ€å¤šåªèƒ½å¼€è®¾ä¸€ä¸ªå‚¨è“„è´¦æˆ·  â€œ

| å±æ€§           | è¯´æ˜                 |
| -------------- | -------------------- |
| User_ID        | ä¸»é”®ï¼Œæˆ·ä¸»èº«ä»½è¯å·ç  |
| Bank_Name      | ä¸»é”®ï¼Œå¼€æˆ·æ”¯è¡Œæ”¯è¡Œå |
| Account_ID     | å¯¹åº”çš„å‚¨è“„è´¦æˆ·è´¦æˆ·å· |
| Last_View_Date | æœ€è¿‘è®¿é—®æ—¥æœŸ         |

```sql
/*==============================================================*/
/* Table: Customer_DepositAccount                               */
/*==============================================================*/
create table Customer_DepositAccount
(
   User_ID              char(16) not null  comment 'æˆ·ä¸»èº«ä»½è¯å·ç ',
   Bank_Name            char(32) not null  comment 'å¼€æˆ·æ”¯è¡Œæ”¯è¡Œå',
   Account_ID           char(32) not null  comment 'å¯¹åº”çš„å‚¨è“„è´¦æˆ·è´¦æˆ·å·',
   Last_View_Date       date  comment 'æœ€è¿‘è®¿é—®æ—¥æœŸ',
   primary key (User_ID, Bank_Name)
);
```

#### å®¢æˆ·-æ”¯ç¥¨è´¦æˆ·å”¯ä¸€è¡¨ 

ä¸å®¢æˆ·-å‚¨è“„è´¦æˆ·å”¯ä¸€è¡¨åŒç†

| å±æ€§           | è¯´æ˜                 |
| -------------- | -------------------- |
| User_ID        | ä¸»é”®ï¼Œæˆ·ä¸»èº«ä»½è¯å·ç  |
| Bank_Name      | ä¸»é”®ï¼Œå¼€æˆ·æ”¯è¡Œæ”¯è¡Œå |
| Account_ID     | å¯¹åº”çš„æ”¯ç¥¨è´¦æˆ·è´¦æˆ·å· |
| Last_View_Date | æœ€è¿‘è®¿é—®æ—¥æœŸ         |

```sql
/*==============================================================*/
/* Table: Customer_CheckAccount                                 */
/*==============================================================*/
create table Customer_CheckAccount
(
   User_ID              char(16) not null  comment 'æˆ·ä¸»èº«ä»½è¯å·ç ',
   Bank_Name            char(32) not null  comment 'å¼€æˆ·æ”¯è¡Œæ”¯è¡Œå',
   Account_ID           char(32) not null  comment 'å¯¹åº”çš„æ”¯ç¥¨è´¦æˆ·è´¦æˆ·å·',
   Last_View_Date       date  comment 'æœ€è¿‘è®¿é—®æ—¥æœŸ',
   primary key (User_ID, Bank_Name)
);
```

#### å®¢æˆ·-è´·æ¬¾è¡¨

è®°å½•å®¢æˆ·å’Œè´·æ¬¾çš„å¯¹åº”å…³ç³»

| å±æ€§    | è¯´æ˜                 |
| ------- | -------------------- |
| Loan_ID | ä¸»é”®ï¼Œè´·æ¬¾å·         |
| User_ID | ä¸»é”®ï¼Œç”¨æˆ·èº«ä»½è¯å·ç  |

```sql
/*==============================================================*/
/* Table: Customer_Loan                                         */
/*==============================================================*/
create table Customer_Loan
(
   Loan_ID              char(16) not null  comment 'è´·æ¬¾å·',
   User_ID              char(16) not null  comment 'ç”¨æˆ·èº«ä»½è¯å·ç ',
   primary key (Loan_ID, User_ID)
);
```

#### å‘˜å·¥-å®¢æˆ·è¡¨

* æœåŠ¡ç±»å‹ç”¨"ck", "dp", "ln"åˆ†åˆ«ä»£è¡¨æ”¯ç¥¨è´¦æˆ·ã€å‚¨è“„è´¦æˆ·å’Œè´·æ¬¾ä¸šåŠ¡
* è€ƒè™‘åˆ°è®¾è®¡é“¶è¡ŒåŠŸèƒ½æ—¶å®¢æœéƒ¨åŒæ—¶è´Ÿè´£æ”¯ç¥¨è´¦æˆ·å’Œå‚¨è“„è´¦æˆ·ï¼Œå¢åŠ æœåŠ¡ç±»å‹ä¸»é”®

| å±æ€§         | è¯´æ˜                 |
| ------------ | -------------------- |
| Employee_ID  | ä¸»é”®ï¼Œå‘˜å·¥èº«ä»½è¯å·ç  |
| User_ID      | ä¸»é”®ï¼Œç”¨æˆ·èº«ä»½è¯å·ç  |
| Service_Type | ä¸»é”®ï¼ŒæœåŠ¡ç±»å‹       |

```sql
/*==============================================================*/
/* Table: Employee_Customer                                     */
/*==============================================================*/
create table Employee_Customer
(
   Employee_ID          char(16) not null  comment 'å‘˜å·¥èº«ä»½è¯å·ç ',
   User_ID              char(16) not null  comment 'ç”¨æˆ·èº«ä»½è¯å·ç ',
   Service_Type         char(32)  comment 'æœåŠ¡ç±»å‹',
   primary key (Employee_ID, User_ID, Service_Type)
);
```

#### å¤–é”®çº¦æŸ

ä½¿ç”¨lab2çš„pdmæ–‡ä»¶ç”Ÿæˆsqlä»£ç ï¼Œå¹¶æ ¹æ®æ•°æ®åº“çš„æ”¹åŠ¨ä½œå°‘é‡ä¿®æ”¹å³å¯

```sql
alter table CheckAccount add constraint FK_CHECKACC_ACCOUNT_C_ACCOUNT foreign key (Account_ID)
      references Account (Account_ID)   ;

alter table Customer_CheckAccount add constraint FK_CUSTOMER_CHECKACCO_CHECKACC foreign key (Account_ID)
      references CheckAccount (Account_ID) on delete restrict on update restrict;

alter table Customer_CheckAccount add constraint FK_CUSTOMER_CUSTOMER__CUSTOMER foreign key (User_ID)
      references Customer (User_ID) on delete restrict on update restrict;

alter table Customer_CheckAccount add constraint FK_CUSTOMER_SUBBANK_C_SUBBANK foreign key (Bank_Name)
      references SubBank (Bank_Name) on delete restrict on update restrict;

alter table Customer_DepositAccount add constraint FK_CUSTOMER_CUSTOMER__CUSTOMER1 foreign key (User_ID)
      references Customer (User_ID) on delete restrict on update restrict;

alter table Customer_DepositAccount add constraint FK_CUSTOMER_DEPOSITAC_DEPOSITA foreign key (Account_ID)
      references DepositAccount (Account_ID) on delete restrict on update restrict;

alter table Customer_DepositAccount add constraint FK_CUSTOMER_SUBBANK_D_SUBBANK foreign key (Bank_Name)
      references SubBank (Bank_Name) on delete restrict on update restrict;

alter table Customer_Loan add constraint FK_CUSTOMER_CUSTOMER__LOAN foreign key (Loan_ID)
      references Loan (Loan_ID) on delete restrict on update restrict;

alter table Customer_Loan add constraint FK_CUSTOMER_CUSTOMER__CUSTOMER2 foreign key (User_ID)
      references Customer (User_ID) on delete restrict on update restrict;

alter table Department add constraint FK_DEPARTME_SUBBANK_D_SUBBANK foreign key (Bank_Name)
      references SubBank (Bank_Name) on delete restrict on update restrict;

alter table DepositAccount add constraint FK_DEPOSITA_ACCOUNT_D_ACCOUNT foreign key (Account_ID)
      references Account (Account_ID) on delete restrict on update restrict;

alter table Employee add constraint FK_EMPLOYEE_EMPLOYEE__DEPARTME foreign key (Department_ID)
      references Department (Department_ID) on delete restrict on update restrict;

alter table Employee_Customer add constraint FK_EMPLOYEE_EMPLOYEE__EMPLOYEE foreign key (Employee_ID)
      references Employee (Employee_ID) on delete restrict on update restrict;

alter table Employee_Customer add constraint FK_EMPLOYEE_EMPLOYEE__CUSTOMER foreign key (User_ID)
      references Customer (User_ID) on delete restrict on update restrict;

alter table Loan add constraint FK_LOAN_LOAN_SUBB_SUBBANK foreign key (Bank_Name)
      references SubBank (Bank_Name) on delete restrict on update restrict;

alter table Payment add constraint FK_PAYMENT_PAY_LOAN_LOAN foreign key (Loan_ID)
      references Loan (Loan_ID) on delete restrict on update restrict;
```

### åç«¯-Flaskè®¾è®¡

å‚è€ƒäº†[ç®€ä»‹ - Flask å…¥é—¨æ•™ç¨‹ (helloflask.com)](https://read.helloflask.com/)ï¼Œä½†ç”±äºæœ¬äººæ²¡æœ‰æ¥è§¦è¿‡å‰ç«¯æŠ€æœ¯ï¼Œå¾ˆå¤šæ¯”å¦‚è¡¨å•ç•Œé¢å¯ä»¥åœ¨å½“å‰urlå¼¹å‡ºçš„éƒ½ä½¿ç”¨äº†æ–°çš„urlåšè·³è½¬ï¼ˆå°è¯•è¿‡å†™Javascriptè„šæœ¬å®ç°ä½†å¤±è´¥äº†ï¼‰ï¼Œæ— å½¢ä¸­å¢åŠ äº†å¾ˆå¤šå·¥ä½œé‡ï¼Œä»£ç é€»è¾‘å…¶å®å¾ˆç®€å•ï¼šå…ˆè¿›å…¥è·¯ç”±ï¼Œéœ€è¦æ£€æŸ¥æƒé™çš„æ£€æŸ¥æƒé™ï¼Œéœ€è¦æ‰§è¡ŒSQLè¯­å¥çš„å°±æ‰§è¡Œï¼ˆå…¶å®ä½¿ç”¨çš„åªæœ‰`select`, `update`, `delete`è¿™é›†ä¸­è¯­å¥ï¼‰ï¼Œéœ€è¦è·å–è¡¨å•çš„å°±ç”¨POSTæ–¹å¼`request`è·å–è¡¨å•ï¼Œä»£ç å®ç°éƒ½åœ¨`app.py`ä¸­ï¼Œå¾ˆæ˜“äºç†è§£

### åç«¯-å…¶ä»–è®¾è®¡

#### ç™»å½•å’Œæ³¨å†Œç•Œé¢

* è¾“å…¥åˆæ³•æ€§é—®é¢˜ï¼š

  * å•å¼•å·å¤„ç†ï¼šå¯¹å¯èƒ½å‡ºç°å•å¼•å·çš„å­—ç¬¦ä¸²é‡‡ç”¨å­—ç¬¦ä¸²æ›¿æ¢åœ¨å•å¼•å·å‰åŠ è½¬ä¹‰ç¬¦ï¼Œæ¯”å¦‚ç”¨æˆ·åå’Œå¯†ç ï¼ˆå…¶ä»–åŒç†ï¼‰ï¼š

    ```python
    username = username.replace('\'', '\\\'')
    password = password.replace('\'', '\\\'')
    ```

  * å…¶ä»–åˆæ³•æ€§é—®é¢˜ï¼ˆå¦‚<u>é‚®ç®±æ ¼å¼</u>ï¼Œ<u>è¾“å…¥å­—æ®µçš„é•¿åº¦å’Œç±»å‹</u>ç­‰ï¼‰ï¼šæ³¨å†Œå’Œä¿®æ”¹ä¿¡æ¯æ—¶ï¼Œé‡‡ç”¨`WTform`å†…ç½®çš„è¡¨å•è®¤è¯å®ç°ï¼Œè®¤è¯ç±»æ”¾åœ¨`forms_verify.py`ä¸­ä»¥ä¾›è°ƒç”¨


* å®‰å…¨å­˜å‚¨å¯†ç 

  
  * æŠŠå¯†ç æ˜æ–‡å­˜å‚¨åœ¨æ•°æ®åº“ä¸­æ˜¯æå…¶å±é™©çš„ï¼Œ å‡å¦‚æ”»å‡»è€…çªƒå–äº†ä½ çš„æ•°æ®åº“ï¼Œ é‚£ä¹ˆç”¨æˆ·çš„è´¦å·å’Œå¯†ç å°±ä¼šè¢«ç›´æ¥æ³„éœ²ã€‚æ›´ä¿é™©çš„æ–¹å¼æ˜¯å¯¹æ¯ä¸ªå¯†ç è¿›è¡Œè®¡ç®—ç”Ÿæˆç‹¬ä¸€æ— äºŒçš„å¯†ç æ•£åˆ—å€¼ï¼Œ è¿™æ ·å³ä½¿æ”»å‡»è€…æ‹¿åˆ°äº†æ•£åˆ—å€¼ï¼Œ ä¹Ÿå‡ ä¹æ— æ³•é€†å‘è·å–åˆ°å¯†ç ã€‚  
  * `Flask`çš„ä¾èµ–`Werkzeug`å†…ç½®äº†ç”¨äºç”Ÿæˆå’ŒéªŒè¯å¯†ç æ•£åˆ—å€¼çš„å‡½æ•°ï¼Œ`werkzeug.security.generate_password_hash()`ç”¨æ¥ä¸ºç»™å®šçš„å¯†ç ç”Ÿæˆå¯†ç æ•£åˆ—å€¼ï¼Œ è€Œ`werkzeug.security.check_password_hash()`åˆ™ç”¨æ¥æ£€æŸ¥ç»™å®šçš„æ•£åˆ—å€¼å’Œå¯†ç æ˜¯å¦å¯¹åº” ã€‚ä½¿ç”¨ç¤ºä¾‹å¦‚ä¸‹æ‰€ç¤ºï¼š 
  
  ```python
  >>> from werkzeug.security import generate_password_hash, check_password_hash
  >>> pw_hash = generate_password_hash('dog') # ä¸ºå¯†ç  dog ç”Ÿæˆå¯†ç æ•£åˆ—å€¼
  >>> pw_hash # æŸ¥çœ‹å¯†ç æ•£åˆ—å€¼
  'pbkdf2:sha256:50000$mm9UPTRI$ee68ebc71434a4405a28d34ae3f170757fb424663dc0ca15198cb881edc0978f'
  >>> check_password_hash(pw_hash, 'dog') # æ£€æŸ¥æ•£åˆ—å€¼æ˜¯å¦å¯¹åº”å¯†ç  dog
  
  True
  >>> check_password_hash(pw_hash, 'cat') # æ£€æŸ¥æ•£åˆ—å€¼æ˜¯å¦å¯¹åº”å¯†ç  cat
  
  False
  ```
  
  * åœ¨æ•°æ®åº“ä¸­ï¼Œå­˜å‚¨ç”¨æˆ·ä¿¡æ¯çš„ User æ¨¡å‹ç±»æ·»åŠ äº†`username`å­—æ®µå’Œ`password_hash`å­—æ®µï¼Œ åˆ†åˆ«ç”¨æ¥å­˜å‚¨ç™»å½•æ‰€éœ€çš„ç”¨æˆ·åå’Œå¯†ç æ•£åˆ—å€¼ï¼Œ åŒæ—¶æ·»åŠ ä¸¤ä¸ªæ–¹æ³•æ¥å®ç°è®¾ç½®å¯†ç å’ŒéªŒè¯å¯†ç çš„åŠŸèƒ½ã€‚<u>æ•°æ®åº“ä¸­é¢„å…ˆå­˜æ”¾äº†ç”¨äºæµ‹è¯•çš„ç”¨æˆ·çš„ç®€å•ç”¨æˆ·åå¯†ç ï¼ˆå‡ä¸ºä¸­æ–‡å§“åæ‹¼éŸ³æˆ–è‹±æ–‡å§“åå­—æ¯ï¼‰</u>ï¼Œå¯†ç ä¸ºåŸå§‹éæ•£åˆ—å€¼ï¼›è€Œ<u>æ³¨å†Œæ–°ç”¨æˆ·å’Œä¿®æ”¹å¯†ç </u>äº§ç”Ÿçš„å¯†ç åˆ™ä¼šä»¥æ•£åˆ—å€¼å½¢å¼å­˜å‚¨åˆ°æ•°æ®åº“ä¸­ã€‚ç™»å½•æ—¶ï¼Œè¾“å…¥çš„å¯†ç ä¸æ•°æ®åº“ä¸­å­˜å‚¨çš„å­—æ®µç›¸åŒï¼ˆå¯¹äºæå‰å­˜å…¥çš„æµ‹è¯•ç”¨æˆ·ï¼‰ã€æˆ–æ˜¯`check_password_hash()`è¿”å›`True`å‡èƒ½æˆåŠŸç™»å½•ï¼Œä¸åŒçš„æ˜¯å‰è€…ä¼šäº§ç”Ÿä¸€ä¸ªä¿®æ”¹å¯†ç çš„ä¸å®‰å…¨æé†’ã€‚
  * å€¼å¾—ä¸€æçš„æ˜¯ï¼Œé‡‡ç”¨æ•£åˆ—å€¼å‡½æ•°éªŒè¯å¯†ç åŒæ—¶ä¹Ÿé¿å…äº†MySQLæ³¨å…¥é—®é¢˜ï¼Œå› ä¸ºéªŒè¯å¯†ç çš„æµç¨‹æ˜¯ï¼šå…ˆæŒ‰ç”¨æˆ·åæ£€ç´¢æ•°æ®åº“ä¸­çš„å¯†ç ï¼ˆè¿™ä¸ªå¯†ç ä¸€èˆ¬æ˜¯æ•£åˆ—å€¼ï¼‰ï¼Œå†ç”¨`werkzeug.security.check_password_hash()`æ ¡éªŒå¯†ç 

#### æƒé™ç®¡ç†

å¦‚æœè·çŸ¥äº†è¯¥ç®¡ç†ç³»ç»Ÿurlè®¾ç½®çš„è§„åˆ™ï¼Œåœ¨ä¸è®¾è®¡æƒé™ç®¡ç†çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦åœ¨åœ°å€æ æ”¹å˜urlå°±å¯ä»¥è®¿é—®ä»»ä½•æƒ³è¦è®¿é—®çš„ç”¨æˆ·ï¼Œæœ¬ç³»ç»Ÿåˆ™åˆ©ç”¨`flask.session`å®Œæˆäº†æƒé™ç®¡ç†ã€‚

* Sessionçš„æ¦‚å¿µ

  session æ˜¯åŸºäºcookieå®ç°ï¼Œ ä¿å­˜åœ¨æœåŠ¡ç«¯çš„é”®å€¼å¯¹ï¼ˆå½¢å¼ä¸º {éšæœºå­—ç¬¦ä¸²ï¼šâ€˜xxxxxxâ€™}ï¼‰, åŒæ—¶åœ¨æµè§ˆå™¨ä¸­çš„cookieä¸­ä¹Ÿå¯¹åº”ä¸€ç›¸åŒçš„éšæœºå­—ç¬¦ä¸²ï¼Œç”¨æ¥å†æ¬¡è¯·æ±‚çš„ æ—¶å€™éªŒè¯ï¼›å¯¹äºFlaskï¼Œsessionå­˜åœ¨æµè§ˆå™¨ä¸­  é»˜è®¤keyæ˜¯session(åŠ å¯†çš„cookie)ï¼Œ ä¹Ÿå¯ä»¥åƒDjangoä¸€æ ·åŸºäºä¸Šè¿°çš„æ–¹å¼å®ç°ä¿å­˜åœ¨æ•°æ®åº“ä¸­

* å…·ä½“å®ç°é€»è¾‘ï¼šæœ‰ä¸¤ç§æ–¹æ¡ˆ

  * æ–¹æ¡ˆä¸€

    å½“å®¢æˆ·æˆ–å‘˜å·¥é€šè¿‡`login_customer.html`æˆ–`login_employee.html`é¡µé¢æˆåŠŸç™»å½•æ—¶ï¼Œè®°å½•`session['username']`ä¸ºå½“å‰ç”¨æˆ·åï¼Œç™»å‡ºæ—¶åˆ™ç”¨`session.pop('username',None)`åˆ é™¤è¿™ä¸€è®°å½•ï¼Œå½“è¿›å…¥éœ€è¦ç™»å½•æƒé™çš„urlæ—¶ï¼Œæ£€éªŒurlä¸­çš„ç”¨æˆ·åæ˜¯å¦å’Œsessionä¸­ç›¸åŒï¼Œè‹¥ä¸åŒåˆ™è¿”å›æœªç™»å½•çš„åˆå§‹ç•Œé¢

    è¿™ç§æ–¹æ¡ˆçš„ç¼ºç‚¹æ˜¯ä¸€æ¬¡åªèƒ½ç™»å½•ä¸€ä¸ªç”¨æˆ·

  * æ–¹æ¡ˆäºŒ

    ç”¨`session[username]`å­˜å‚¨å½“å‰å¤„äºç™»å½•çŠ¶æ€çš„ç”¨æˆ·ï¼Œæ¯æ¬¡ç™»å½•æˆåŠŸæ—¶è®¾ç½®`session[username]=True`ï¼Œç™»å‡ºæˆ–æ³¨é”€æ—¶æ—¶é€šè¿‡`session.pop(username)`åˆ é™¤ç”¨æˆ·åï¼Œå½“è¿›å…¥éœ€è¦ç™»å½•æƒé™çš„urlæ—¶ï¼Œæ£€éªŒurlä¸­çš„ç”¨æˆ·åæ˜¯å¦æ»¡è¶³`session[username]=True`ï¼Œè‹¥ä¸æ»¡è¶³åˆ™è¿”å›æœªç™»å½•çš„åˆå§‹ç•Œé¢

    æ–¹æ¡ˆäºŒè§£å†³äº†æ–¹æ¡ˆä¸€çš„ç¼ºç‚¹ï¼Œä½†ä¸çŸ¥é“å¦‚æœç”¨æˆ·Aå’Œç”¨æˆ·BåŒæ—¶åœ¨ç™»å½•çŠ¶æ€ï¼Œç”¨æˆ·Aèƒ½ä¸èƒ½ç›´æ¥è¿›å…¥ç”¨æˆ·Bæƒé™çš„urlã€‚çŒœæƒ³è‹¥å®é™…è¿›è¡Œéƒ¨ç½²ï¼Œæ¯å°å®¢æˆ·æœºçš„sessionæ˜¯æŒ‰ç…§æµè§ˆå™¨æˆ–IPåœ°å€åˆ†åˆ«ç»´æŠ¤çš„ï¼Œæ˜¯å¯ä»¥å®ç°æƒé™ä¿æŠ¤çš„ã€‚

  * å®éªŒè¿‡ç¨‹ä¸­ä¸€å¼€å§‹é‡‡ç”¨æ–¹æ¡ˆä¸€ï¼Œåæ”¹ç”¨æ–¹æ¡ˆäºŒï¼Œå¯åœ¨Githubä¸ŠæŸ¥çœ‹[å†å²commitè®°å½•](https://github.com/Jensen246/DatabaseApplicationForUSTC2022/commits/main)

### å‰ç«¯

`html` + `css` + `jinja2`æ¨¡æ¿ï¼Œå› ä¸ºæ²¡æœ‰æ¥è§¦è¿‡ï¼Œåšè¯¸å¦‚å¯¼èˆªæ ä¸‹æ‹‰èœå•ã€ä¸‹æ‹‰é€‰é¡¹è¡¨å•è¿™æ ·çš„åŠŸèƒ½çš„æ—¶å€™éƒ½æ‘¸ç´¢äº†å¾ˆä¹…ï¼Œä¸‹é¢ç»™å‡ºä¸€ä¸ªç®€å•çš„ç½‘é¡µè·³è½¬å›¾

```mermaid
graph LR;
subgraph åˆå§‹æœªç™»å½•ç•Œé¢
A(ä¸»é¡µ åŠŸèƒ½ä»‹ç»)
B(æ”¯è¡Œåˆ—è¡¨)
C(å®¢æˆ·ç™»å½•)
D(å®¢æˆ·æ³¨å†Œ)
E(å‘˜å·¥ç™»å½•)
end
B--ç‚¹å‡»è¯¦æƒ…æŒ‰é’®-->F(å„æ”¯è¡Œå‘˜å·¥ä¿¡æ¯)
subgraph å®¢æˆ·ä¸»é¡µ
G(æ”¯è¡Œä¿¡æ¯)
H(ä¸ªäººä¿¡æ¯)
I(è´¦æˆ·ç®¡ç†)-->J(å‚¨è“„è´¦æˆ·)
I-->K(æ”¯ç¥¨è´¦æˆ·)
L(è´·æ¬¾ä¸šåŠ¡)-->M(å½“å‰è´·æ¬¾)
L-->N(å‘èµ·è´·æ¬¾)
O(å…³è”å‘˜å·¥)
out1(ç™»å‡º)
H---æ”¯æŒä¿®æ”¹ä¿¡æ¯å’Œå¯†ç 
J---æ”¯æŒå¼€æˆ·\é”€æˆ·\å­˜æ¬¾å’Œå–æ¬¾,å–æ¬¾æ—¶ä½™é¢ä¸èƒ½å°äº0
K---æ”¯æŒå¼€æˆ·\é”€æˆ·\å­˜æ¬¾å’Œå–æ¬¾,å–æ¬¾æ—¶é€æ”¯é¢ä¸èƒ½å¤§äºä¸Šé™
O---æŸ¥çœ‹å„æ”¯è¡Œè´Ÿè´£è‡ªå·±å„é¡¹äº‹åŠ¡çš„å‘˜å·¥,å¹¶å¯ä»¥æ›´æ¢å‘˜å·¥
M---æŸ¥çœ‹æˆ–åˆ é™¤å½“å‰çš„æ‰€æœ‰è´·æ¬¾,åˆ é™¤éœ€å‘æ”¾å®Œæˆ
N---å‘èµ·ä¸€ç¬”æ–°çš„è´·æ¬¾
end
subgraph å‘˜å·¥ä¸»é¡µ
P(æ”¯è¡Œä¿¡æ¯)
Q(å®¢æˆ·ç®¡ç†)---æŸ¥çœ‹å’Œæœç´¢æ‰€æœ‰å®¢æˆ·
R(è´¦æˆ·ç®¡ç†)-->S(å‚¨è“„è´¦æˆ·)
R-->T(æ”¯ç¥¨è´¦æˆ·)
S---æŸ¥çœ‹å’Œæœç´¢æ‰€æœ‰å‚¨è“„è´¦æˆ·,æ”¯æŒä¿®æ”¹å…¶åˆ©ç‡
T---æŸ¥çœ‹å’Œæœç´¢æ‰€æœ‰æ”¯ç¥¨è´¦æˆ·,æ”¯æŒä¿®æ”¹å…¶é€æ”¯é¢åº¦
U(æˆ‘çš„ä¿¡æ¯)---æŸ¥çœ‹å‘˜å·¥æœ¬äººæ‰€æœ‰ä¿¡æ¯,æ”¯æŒä¿®æ”¹å¯†ç 
V(è´·æ¬¾ç®¡ç†)---å¯æŸ¥çœ‹å’Œæœç´¢æ‰€æœ‰è´·æ¬¾ä¸šåŠ¡,ä»¥åŠå‘æœªå‘æ”¾å®Œæˆçš„å‘æ”¾è´·æ¬¾
W(ä¸šåŠ¡ç»Ÿè®¡)---æŒ‰æœˆ\å­£\å¹´æŸ¥çœ‹å„æ”¯è¡Œå„ä¸šåŠ¡çš„æ€»é‡‘é¢
out2(ç™»å‡º)
end
ERROR1(æ²¡æœ‰æƒé™çš„URL)--è‡ªåŠ¨é‡å®šå‘-->A
ERROR2(æœªè¯†åˆ«çš„URL)-->404(404é”™è¯¯é¡µé¢)
404--é€‰æ‹©å›åˆ°ä¸»é¡µ-->A
C--ç™»å½•æˆåŠŸè·³è½¬-->G
D--ç‚¹å‡»è¯¦æƒ…æŒ‰é’®-->C
G--ç‚¹å‡»è¯¦æƒ…æŒ‰é’®-->F
E--ç™»å½•æˆåŠŸè·³è½¬-->P
out1--è´¦å·é€€å‡ºè·³è½¬-->A
out2--è´¦å·é€€å‡ºè·³è½¬-->A
P--ç‚¹å‡»è¯¦æƒ…æŒ‰é’®-->F

```

## Gitæäº¤è®°å½•

æ—¶é—´é¡ºåºä¸ºä»ä¸‹åˆ°ä¸Š

* 04efd5d (HEAD -> main, origin/main) ä¿®æ”¹äº†ä½¿ç”¨è¯´æ˜å’Œä¸šåŠ¡ç»Ÿè®¡æ¨¡å—å­£åº¦æ˜¾ç¤º
* 3e086d1 å¢åŠ äº†ä¸»é¡µä½¿ç”¨è¯´æ˜å’Œé”™è¯¯å¤„ç†ç•Œé¢
* 1192ed8 å·²å®Œæˆå…¨éƒ¨åŠŸèƒ½ï¼éœ€è¦å®Œå–„çš„éƒ¨åˆ†æœ‰ï¼šå¢åŠ ä¸»é¡µä½¿ç”¨è¯´æ˜ï¼Œä»¥åŠ404é”™è¯¯é¡µé¢æŠ¥å‘Š
* 49acce8 å®Œæˆäº†è´·æ¬¾ä¸šåŠ¡ï¼Œå®ç°äº†è´·æ¬¾çš„æŸ¥è¯¢å’Œå‘æ”¾è´·æ¬¾ï¼Œè¿˜å‰©æœ€åä¸€é¡¹ä»»åŠ¡ ä¸šåŠ¡ç»Ÿè®¡
* dfca8f4 å®Œæˆäº†å‘˜å·¥ç«¯çš„å®¢æˆ·ç®¡ç†å’Œå‚¨è“„è´¦æˆ·ç®¡ç†ï¼ŒåŒ…æ‹¬æŸ¥è¯¢å®¢æˆ·å’Œè´¦æˆ·ã€ä¿®æ”¹åˆ©ç‡
* bc14a97 å®ç°äº†å®¢æˆ·æŸ¥çœ‹å’Œä¿®æ”¹å…³è”å‘˜å·¥çš„åŠŸèƒ½ï¼Œå¹¶ä¿®å¤äº†åŒ…æ‹¬è´¦æˆ·å¼€æˆ·æ—¶å…³è”é”™è¯¯çš„éƒ¨é—¨ã€å»ºç«‹è´·æ¬¾å…³è”é”™è¯¯çš„éƒ¨é—¨ã€å…³è”å‘˜å·¥èŒä½æ˜¾ç¤ºé”™è¯¯ç­‰bugï¼Œå®Œæˆäº†å®¢æˆ·ç«¯çš„æ‰€æœ‰åŠŸèƒ½ï¼Œå‰©ä½™å®ç°å‘˜å·¥ç«¯çš„åŠŸèƒ½
* 09b7224 å®Œæˆäº†å®¢æˆ·ç«¯çš„è´·æ¬¾ä¸šåŠ¡ï¼ŒåŒ…æ‹¬ç”³è¯·è´·æ¬¾ã€åˆ é™¤ä¹‹å‰çš„è´·æ¬¾ä»¥åŠåœ¨å®¢æˆ·ç”³è¯·ä¸€ä¸ªæ–°æ”¯è¡Œçš„è´·æ¬¾æ—¶ä¸ºå…¶ç»‘å®šä¸€ä¸ªé“¶è¡Œå‘˜å·¥ä½œä¸ºè´Ÿè´£äººï¼Œè®¡åˆ’ä¸ºå®¢æˆ·æ–°å¢ä¸€ä¸ªèƒ½æŸ¥çœ‹è‡ªå·±å½“å‰å„ä¸ªä¸šåŠ¡çš„è´Ÿè´£äººçš„æ¿å—ï¼Œå¹¶ä¸ºå…¶å®ç°è§£é™¤è´Ÿè´£å…³ç³»çš„åŠŸèƒ½
* ce1495e å®Œæˆäº†å‚¨è“„è´¦æˆ·çš„å¼€æˆ·ã€é”€æˆ·ã€å‚¨è“„å’Œå–æ¬¾åŠŸèƒ½ï¼Œå¹¶ä¿®å¤äº†æ”¯ç¥¨è´¦æˆ·å‚¨è“„å–æ¬¾æ—¶ä¸€æ¬¡æ›´æ–°æ‰€æœ‰è´¦æˆ·å’Œå‰ç«¯è¾“å…¥æ¡†æ˜¾ç¤ºé”™è¯¯çš„bugï¼Œä¸Šä¸€æ¬¡æäº¤æµ‹è¯•æ—¶ç”±äºæµ‹è¯•ç”¨æˆ·åªæœ‰ä¸€ä¸ªæ”¯ç¥¨è´¦æˆ·è€Œæœªèƒ½å‘ç°è¯¥bug
* f6f765c ä¸ºå®¢æˆ·ç«¯æ”¯ç¥¨è´¦æˆ·çš„å–æ¬¾åŠŸèƒ½å¢åŠ äº†æ£€éªŒé€æ”¯é¢åº¦åŠŸèƒ½ï¼ŒåŒæ—¶æ ¹æ®æ”¯ç¥¨è´¦æˆ·éƒ¨åˆ†çš„ä»£ç å®ç°äº†å®¢æˆ·ç«¯å‚¨è“„è´¦æˆ·ï¼Œç°åœ¨å®¢æˆ·ç«¯å·²ç»å¯ä»¥çœ‹åˆ°å‚¨è“„è´¦æˆ·çš„è¯¦æƒ…ï¼Œä½†ç”±äºä¸¤ç§è´¦æˆ·è¡¨ç»“æ„ä¸åŒï¼Œå…¶ä»–åŠŸèƒ½éœ€è¦è¿›ä¸€æ­¥ä¿®æ”¹ä»£ç ï¼Œä¸‹ä¸€æ­¥å®Œæˆæ”¯ç¥¨è´¦æˆ·çš„å¼€æˆ·åŠŸèƒ½
* a3ea3fc å®Œæˆäº†å®¢æˆ·ç«¯æ”¯ç¥¨è´¦æˆ·çš„æ‰€æœ‰åŠŸèƒ½ï¼ŒåŒ…æ‹¬å‚¨è“„ã€å–æ¬¾ã€å¼€æˆ·å’Œé”€æˆ·
* 0f91c94 å®Œæˆäº†ç”¨æˆ·ç«¯æ”¯ç¥¨è´¦æˆ·çš„æ˜¾ç¤ºä»¥åŠæ”¯ç¥¨è´¦æˆ·å¼€æˆ·åŠŸèƒ½ï¼Œå¾…å®Œæˆçš„æ˜¯é”€æˆ·ã€å‚¨è“„å’Œå­˜æ¬¾
* b95315d å®Œæˆäº†ç”¨æˆ·ç«¯æ”¯ç¥¨è´¦æˆ·çš„æ˜¾ç¤ºä»¥åŠæ”¯ç¥¨è´¦æˆ·å¼€æˆ·åŠŸèƒ½ï¼Œå¾…å®Œæˆçš„æ˜¯é”€æˆ·ã€å‚¨è“„å’Œå­˜æ¬¾
* c2febea å®Œæˆäº†å¯¼èˆªæ ä¸‹æ‹‰èœå•
* d3360b6 å¢åŠ äº†å®¢æˆ·ä¸ªäººä¿¡æ¯é¡µçš„æ³¨é”€è´¦æˆ·åŠŸèƒ½
* ad358ba å®Œæˆäº†å®¢æˆ·å’Œå‘˜å·¥çš„ä¸ªäººä¿¡æ¯é¡µé¢ã€å®¢æˆ·éƒ¨åˆ†ä¸ªäººä¿¡æ¯çš„ä¿®æ”¹ä»¥åŠå®¢æˆ·å‘˜å·¥å¯†ç çš„ä¿®æ”¹ï¼ŒæœŸé—´è¯•å›¾å°†å¯†ç è®¤è¯åŠŸèƒ½å°è£…åˆ°LoginManage.pyä¸­ï¼Œä½†ç”±äºæŸäº›åŸå› ï¼Œè¿™ç§åšæ³•ä¼šå¯¼è‡´ä¿®æ”¹å¯†ç åå¯†ç ä¸èƒ½åŠæ—¶æ›´æ–°ï¼Œè°ƒè¯•å‘ç°é—®é¢˜æ­£å¤„åœ¨ä¸Šè¿°æ–‡ä»¶ä¸­ï¼Œä½†æ²¡å¼„æ¸…æ¥šä¸ºä½•ä¼šäº§ç”Ÿè¯¥bugï¼Œæœ€ç»ˆå†³å®šå°†è¯¥å°è£…å»æ‰ï¼Œåœ¨app.pyçš„æ¯ä¸ªè·¯ç”±ä¸­åˆ†åˆ«å®ç°å¯†ç éªŒè¯ï¼ŒbugæˆåŠŸæ¶ˆé™¤
* ec64cde å®Œæˆäº†è´·æ¬¾åˆå§‹åŒ–ï¼Œä¸ºæ¯å®¶é“¶è¡Œç»™å®šäº†åˆå§‹èµ„äº§ï¼Œä»¥åŠä¿®æ”¹äº†æ•°æ®éƒ¨åˆ†åˆå§‹åŒ–
* 6715f91 å®Œæˆäº†ç™»å½•æƒé™ç®¡ç†ï¼Œç°åœ¨ä»…èƒ½é€šè¿‡ç™»å½•è€Œä¸èƒ½é€šè¿‡urlè®¿é—®å®¢æˆ·/å‘˜å·¥ä¸»é¡µï¼Œå¹¶å®Œå–„äº†æ³¨å†ŒåŠŸèƒ½ï¼Œç°åœ¨æ³¨å†Œç”¨æˆ·åå¦‚æœå’Œæ•°æ®åº“ä¸­é‡å¤å°†ä¼šæŠ¥é”™
* cbcdb36 å®Œæˆäº†ç™»å½•å’Œæ³¨å†Œã€æ³¨å†Œè¡¨å•çš„éªŒè¯ä»¥åŠæ•°æ®åº“å†…éƒ¨çš„å¯†ç ä¿æŠ¤ï¼Œä¸‹ä¸€æ­¥å®ç°ç”¨æˆ·å’Œå‘˜å·¥ç™»å½•åçš„ä¸»é¡µ
* aa41724 å®Œæˆäº†æ”¯è¡Œè¯¦æƒ…é¡µï¼Œä½†å…¶å‰ç«¯ä»éœ€ä¼˜åŒ–
* f0a6934 å®Œæˆäº†ä¸»é¡µçš„åˆ›å»ºï¼Œå¹¶æˆåŠŸè¿æ¥äº†æ•°æ®åº“ï¼ŒæŸ¥è¯¢å¹¶åœ¨ä¸»é¡µæ˜¾ç¤ºæ”¯è¡Œåˆ—è¡¨
* 17c6213 å®Œæˆäº†æ•°æ®åº“çš„åˆå§‹åŒ–å¹¶æ’å…¥äº†ä¸€éƒ¨åˆ†åˆå§‹æ•°æ®
* d78bb99 æ·»åŠ äº†å¤–é”®çº¦æŸï¼Œå®Œæˆäº†æ•°æ®åº“çš„æ•°æ®ç»“æ„

## å‚è€ƒ

[1] [Flaskå¹²è´§ï¼šè®¿é—®æ•°æ®åº“â€”â€”Pythonæ•°æ®åº“æ¡†æ¶MySQL-Python - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/183797110)

[2] [WTFormè¡¨å•éªŒè¯ - å¤©é’è‰²wy - åšå®¢å›­](https://www.cnblogs.com/wangyi0419/p/12710263.html)

[3] [Flask Sessionsä¼šè¯ - Flaskæ•™ç¨‹â„¢](https://www.yiibai.com/flask/flask_sessions.html)

**[4] [ç®€ä»‹ - Flask å…¥é—¨æ•™ç¨‹](https://read.helloflask.com/)**

[5] [ã€Pythonã€‘ MySQLdbçš„å®‰è£…ä¸ä½¿ç”¨ - K.Takanashi - åšå®¢å›­](https://www.cnblogs.com/franknihao/p/7267182.html)

[6] [HTML è¾“å…¥ç±»å‹](https://www.w3school.com.cn/html/html_form_input_types.asp)

[7] [ä¸‹æ‹‰å†…å®¹èœå• | èœé¸Ÿå·¥å…·](https://c.runoob.com/codedemo/452/)

......
